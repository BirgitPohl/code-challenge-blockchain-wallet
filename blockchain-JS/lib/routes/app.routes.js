"use strict";

var {
  PDFMaker
} = require('../components/pdfMaker');

module.exports = function (app, miner) {
  var minaCoinData = miner.getData();
  app.get('/', (req, res) => {
    console.log('Visited page: Dashboard.');
    var dashboardData = {
      title: 'Wallet',
      minaCoinData: minaCoinData
    };
    return res.render('dashboard', dashboardData);
  });
  app.get('/print', (req, res) => {
    var pdf = new PDFMaker(minaCoinData);
    pdf.createPDF();
    return res.download('lib/pdf/billing.pdf');
  });
  app.get('/data', (req, res) => {
    return res.render('data', {
      title: 'Data',
      minaCoinData: miner.getData()
    }, console.log('Visited page: Data.'));
  }); // refresh to show how much you would mine

  app.get('/mine', (req, res) => {
    miner.initTransactions();
    var dashboardData = {
      title: 'Dashboard',
      minaCoinData: miner.getData()
    };
    return res.render('dashboard', dashboardData);
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9yb3V0ZXMvYXBwLnJvdXRlcy5qcyJdLCJuYW1lcyI6WyJQREZNYWtlciIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXBwIiwibWluZXIiLCJtaW5hQ29pbkRhdGEiLCJnZXREYXRhIiwiZ2V0IiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsImRhc2hib2FyZERhdGEiLCJ0aXRsZSIsInJlbmRlciIsInBkZiIsImNyZWF0ZVBERiIsImRvd25sb2FkIiwiaW5pdFRyYW5zYWN0aW9ucyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNO0FBQUNBLEVBQUFBO0FBQUQsSUFBYUMsT0FBTyxDQUFDLHdCQUFELENBQTFCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBU0MsR0FBVCxFQUFjQyxLQUFkLEVBQXFCO0FBQ2xDLE1BQU1DLFlBQVksR0FBR0QsS0FBSyxDQUFDRSxPQUFOLEVBQXJCO0FBRUFILEVBQUFBLEdBQUcsQ0FBQ0ksR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN6QkMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksMEJBQVo7QUFDQSxRQUFJQyxhQUFhLEdBQUc7QUFDbEJDLE1BQUFBLEtBQUssRUFBRSxRQURXO0FBRWxCUixNQUFBQSxZQUFZLEVBQUVBO0FBRkksS0FBcEI7QUFLQSxXQUFPSSxHQUFHLENBQUNLLE1BQUosQ0FBVyxXQUFYLEVBQXdCRixhQUF4QixDQUFQO0FBQ0QsR0FSRDtBQVVBVCxFQUFBQSxHQUFHLENBQUNJLEdBQUosQ0FBUSxRQUFSLEVBQWtCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBRTlCLFFBQU1NLEdBQUcsR0FBRyxJQUFJaEIsUUFBSixDQUFhTSxZQUFiLENBQVo7QUFDQVUsSUFBQUEsR0FBRyxDQUFDQyxTQUFKO0FBRUEsV0FBT1AsR0FBRyxDQUFDUSxRQUFKLENBQWEscUJBQWIsQ0FBUDtBQUNELEdBTkQ7QUFRQWQsRUFBQUEsR0FBRyxDQUFDSSxHQUFKLENBQVEsT0FBUixFQUFpQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMzQixXQUFPQSxHQUFHLENBQUNLLE1BQUosQ0FBVyxNQUFYLEVBQW1CO0FBQ3RCRCxNQUFBQSxLQUFLLEVBQUUsTUFEZTtBQUV0QlIsTUFBQUEsWUFBWSxFQUFFRCxLQUFLLENBQUNFLE9BQU47QUFGUSxLQUFuQixFQUdGSSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBWixDQUhFLENBQVA7QUFJSCxHQUxELEVBckJrQyxDQTRCbEM7O0FBQ0FSLEVBQUFBLEdBQUcsQ0FBQ0ksR0FBSixDQUFRLE9BQVIsRUFBaUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDN0JMLElBQUFBLEtBQUssQ0FBQ2MsZ0JBQU47QUFFQSxRQUFJTixhQUFhLEdBQUc7QUFDbEJDLE1BQUFBLEtBQUssRUFBRSxXQURXO0FBRWxCUixNQUFBQSxZQUFZLEVBQUVELEtBQUssQ0FBQ0UsT0FBTjtBQUZJLEtBQXBCO0FBS0EsV0FBT0csR0FBRyxDQUFDSyxNQUFKLENBQVcsV0FBWCxFQUF3QkYsYUFBeEIsQ0FBUDtBQUNELEdBVEQ7QUFVSCxDQXZDRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtQREZNYWtlcn0gPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL3BkZk1ha2VyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXBwLCBtaW5lcikge1xuICAgIGNvbnN0IG1pbmFDb2luRGF0YSA9IG1pbmVyLmdldERhdGEoKTtcblxuICAgIGFwcC5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdWaXNpdGVkIHBhZ2U6IERhc2hib2FyZC4nKTtcbiAgICAgIGxldCBkYXNoYm9hcmREYXRhID0ge1xuICAgICAgICB0aXRsZTogJ1dhbGxldCcsXG4gICAgICAgIG1pbmFDb2luRGF0YTogbWluYUNvaW5EYXRhXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVzLnJlbmRlcignZGFzaGJvYXJkJywgZGFzaGJvYXJkRGF0YSk7XG4gICAgfSk7XG5cbiAgICBhcHAuZ2V0KCcvcHJpbnQnLCAocmVxLCByZXMpID0+IHtcbiAgICAgIFxuICAgICAgY29uc3QgcGRmID0gbmV3IFBERk1ha2VyKG1pbmFDb2luRGF0YSlcbiAgICAgIHBkZi5jcmVhdGVQREYoKTtcblxuICAgICAgcmV0dXJuIHJlcy5kb3dubG9hZCgnbGliL3BkZi9iaWxsaW5nLnBkZicpO1xuICAgIH0pO1xuXG4gICAgYXBwLmdldCgnL2RhdGEnLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2RhdGEnLCB7XG4gICAgICAgICAgICB0aXRsZTogJ0RhdGEnLFxuICAgICAgICAgICAgbWluYUNvaW5EYXRhOiBtaW5lci5nZXREYXRhKClcbiAgICAgICAgICB9LCBjb25zb2xlLmxvZygnVmlzaXRlZCBwYWdlOiBEYXRhLicpKTtcbiAgICB9KTtcblxuICAgIC8vIHJlZnJlc2ggdG8gc2hvdyBob3cgbXVjaCB5b3Ugd291bGQgbWluZVxuICAgIGFwcC5nZXQoJy9taW5lJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgICBtaW5lci5pbml0VHJhbnNhY3Rpb25zKCk7XG5cbiAgICAgIGxldCBkYXNoYm9hcmREYXRhID0ge1xuICAgICAgICB0aXRsZTogJ0Rhc2hib2FyZCcsXG4gICAgICAgIG1pbmFDb2luRGF0YTogbWluZXIuZ2V0RGF0YSgpXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVzLnJlbmRlcignZGFzaGJvYXJkJywgZGFzaGJvYXJkRGF0YSk7XG4gICAgfSk7XG59OyJdfQ==